
  <launch>

  <arg name="ticks_per_meter" value="13000" />
  <arg name="wheel_separation" value="0.025" />
  <arg name="base_frame_id" value="base_footprint" />

  <arg name="port" value="/dev/ttyACM1" />
  <arg name="baudrate" value="115200" />
  <arg name="imu_frame" value="imu_link" />

  <node name="controller" pkg="diff_drive" type="diff_drive_controller"
        output="screen">
    <rosparam subst_value="true">
      ticks_per_meter: $(arg ticks_per_meter)
      wheel_separation: $(arg wheel_separation)
      max_motor_speed: 3250
      timeout: 1.0
    </rosparam>
    <remap from="cmd_vel" to="/robot/cmd_vel" />
  </node>
  
  <node name="odom_publisher" pkg="diff_drive" type="diff_drive_odometry"
        output="screen">
    <rosparam subst_value="true">
      ticks_per_meter: $(arg ticks_per_meter)
      wheel_separation: $(arg wheel_separation)
      base_frame_id: $(arg base_frame_id)
    </rosparam>
  </node>


  <node pkg="realsense_explorer_control" type="serial_connection.py" name="serial_connection_RobotHW" output="screen">
    <rosparam subst_value="true">
      port: $(arg port)
      baudrate: $(arg baudrate)
      imu_frame: $(arg imu_frame)
    </rosparam>

    </node>
  <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se" clear_params="true">
    <rosparam command="load" file="$(find realsense_explorer_control)/config/ekf_config.yaml" />

    <!--  Placeholder for output topic remapping
    <remap from="odometry/filtered" to=""/>
    <remap from="accel/filtered" to=""/>
    -->

  </node>
    
  </launch>